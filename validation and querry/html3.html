<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <!-- boostrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Document</title>
</head>

<body>


    <h1>html 3</h1>

    <button id="btn-accion">btn accion</button>



    <script>
        $(document).ready(function () {
            $("#btn-accion").click(function () {
                //let user = localStorage.getItem("usuario")

                // if(usuario){
                //     alert("Hola "+usuario)
                // }

                let name = GetParameters("nombre")
                let lastname = GetParameters("apellido")

                alert("hello "+name+" "+lastname)

                function GetParameters(param) {
                    let url = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&')
                    /* http://127.0.0.1:5500/html3.html?nombre=asagi&apellido=igawa ===>  [nombre=asagi,apellido=igawa] */

                    for (let index = 0; index < url.length; index++) {
                        let url_param = url[index].split('=')
                        /* [nombre=asagi] ===>  [nombre, asagi]*/

                        if (url_param[0] == param) {// si nombre == name

                            return url_param[1]//devuelve asagi
                        }

                    }
                }
            })
        })
    </script>
</body>

</html>